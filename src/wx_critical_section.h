//=============================================================================
// Auxiliary library for Windows API (C++)
//                                                     Copyright (c) 2007 MAYO.
//=============================================================================
#pragma once

namespace wx {

//-----------------------------------------------------------------------------
//! @class	CriticalSection
//! @brief	クリティカルセクションロック（継承禁止）
//-----------------------------------------------------------------------------
class CriticalSection
{
public:
	//-------------------------------------------------------------------------
	//! @brief	コンストラクタ
	//-------------------------------------------------------------------------
	CriticalSection();

	//-------------------------------------------------------------------------
	//! @brief	デストラクタ
	//-------------------------------------------------------------------------
	~CriticalSection();

	//-------------------------------------------------------------------------
	//! @brief	ロックを取得する
	//-------------------------------------------------------------------------
	void Acquire() const;

	//-------------------------------------------------------------------------
	//! @brief	ロックを解放する
	//-------------------------------------------------------------------------
	void Release() const;

private:
	// コピー、代入を禁止
	CriticalSection(const CriticalSection&);
	CriticalSection& operator = (const CriticalSection&);

private:
	class Impl;
	Impl* m_impl;
};

} //namespace wx
